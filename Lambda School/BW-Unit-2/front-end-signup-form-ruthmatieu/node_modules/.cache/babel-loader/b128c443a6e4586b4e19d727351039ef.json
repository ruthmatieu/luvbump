{"ast":null,"code":"var _jsxFileName = \"/Users/ruthmathieu/Desktop/Lambda School/BW-Unit-2/front-end/app-form/src/component/Login.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport { AppBar, TextField, MuiThemeProvider } from '@material-ui/core';\nimport { render } from '@testing-library/react';\nconst formSchema = yup.object().shape({\n  username: yup.string().required('Username is a required field.'),\n  password: yup.string().required('Password is a required field.')\n}); //state for dislaying user info\n\nconst [data, setData] = useState([]);\nconst [buttonDisabled, setButtonDisabled] = useState(true);\nconst [userInput, setUserInput] = useState({\n  username: '',\n  password: ''\n});\nuseEffect(() => {\n  formSchema.isValid(userInput).then(valid => {\n    setButtonDisabled(!valid);\n  });\n}, [userInput]);\nconst [errorState, setErrorState] = useState({\n  username: '',\n  password: ''\n});\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.styles = {\n      button: {\n        margin: 15\n      }\n    };\n\n    this.validator = e => {\n      yup.reach(formSchema, e.target.name).validate(e.target.value).then(valid => {\n        setErrorState({ ...errorState,\n          [e.target.name]: ''\n        });\n      }).catch(err => {\n        setErrorState({ ...errorState,\n          [e.target.name]: err.errors[0]\n        });\n      });\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault(); //reset form once submitted\n\n      setUserInput({\n        username: '',\n        password: ''\n      }); //ensure user data is being returned\n\n      axios.post('https://reqres.in/api/users', userInput).then(res => setData(res)).catch(err => console.log(err.res));\n      console.log('login successful');\n    };\n\n    this.changeHandler = e => {\n      e.persist();\n      validator(e);\n      setUserInput({ ...userInput,\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      isPasswordShown: false\n    };\n\n    this.togglePasswordVisibility = () => {\n      const [isPasswordShown] = state;\n      this.setState({\n        isPasswordShown: !isPasswordShown\n      });\n    };\n\n    this.render = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"app-bar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }, \"Log In\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, \"Log in using your username and password\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: submitHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        type: \"text\",\n        id: \"username\",\n        name: \"username\",\n        value: userInput.username,\n        onChange: changeHandler,\n        placeholder: \"Username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 29\n        }\n      }, errorState.username.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 68\n        }\n      }, errorState.username) : null), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(MuiThemeProvider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        type: togglePasswordVisibility ? \"password\" : \"text\",\n        id: \"password\",\n        name: \"password\",\n        value: userInput.password,\n        onChange: changeHandler,\n        placeholder: \"Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-eye password-icon\",\n        onClick: state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }\n      }, \" \", errorState.password.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 68\n        }\n      }, errorState.password) : null), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(\"button\", {\n        style: styles.button,\n        disabled: buttonDisabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, \"Log In\"), /*#__PURE__*/React.createElement(\"pre\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, JSON.stringify(data, null, 2))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, \"Don't have an account? \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 43\n        }\n      }, \"Sign Up\")));\n    };\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/ruthmathieu/Desktop/Lambda School/BW-Unit-2/front-end/app-form/src/component/Login.js"],"names":["React","Component","useState","useEffect","yup","axios","AppBar","TextField","MuiThemeProvider","render","formSchema","object","shape","username","string","required","password","data","setData","buttonDisabled","setButtonDisabled","userInput","setUserInput","isValid","then","valid","errorState","setErrorState","Login","styles","button","margin","validator","e","reach","target","name","validate","value","catch","err","errors","submitHandler","preventDefault","post","res","console","log","changeHandler","persist","state","isPasswordShown","togglePasswordVisibility","setState","length","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\nimport * as yup from 'yup'; \nimport axios from 'axios';\nimport { AppBar, TextField, MuiThemeProvider } from '@material-ui/core';\nimport { render } from '@testing-library/react';\n\n\nconst formSchema = yup.object().shape({\n    username: yup.string()\n            .required('Username is a required field.'),\n    password: yup.string()\n            .required('Password is a required field.')\n})\n\n //state for dislaying user info\n const [data, setData] = useState([]);\n\n const [buttonDisabled, setButtonDisabled] = useState(true);\n const [userInput, setUserInput] = useState({\n    username: '',\n    password: ''\n});\n useEffect(() => {\n    formSchema.isValid(userInput).then(valid => {\n      setButtonDisabled(!valid);\n    });\n  }, [userInput]);\n\nconst [errorState, setErrorState] = useState({\n    username: '',\n    password: ''\n});\n\nclass Login extends Component {\n\n    styles = {\n        button: {\n            margin: 15\n        }\n    }\n\n    \n\n    \n    \n\n     validator = e => {\n        yup\n            .reach(formSchema, e.target.name)\n            .validate(e.target.value)\n            .then( valid => {\n                setErrorState({\n                    ...errorState,\n                    [e.target.name]: ''\n                });\n            })\n            .catch(err => {\n                setErrorState({\n                    ...errorState,\n                    [e.target.name]: err.errors[0]\n                })\n            })\n    }\n\n     submitHandler = e => {\n        e.preventDefault();\n\n        //reset form once submitted\n        setUserInput({\n            username: '',\n            password: ''\n        });\n\n        //ensure user data is being returned\n        axios\n            .post('https://reqres.in/api/users', userInput)\n            .then( res => setData(res))\n            .catch( err => console.log(err.res))\n\n        console.log('login successful')\n    };\n\n     changeHandler = e => {\n        e.persist();\n        validator(e);\n\n        setUserInput({...userInput, [e.target.name]: e.target.value});\n    };\n\n     state = {\n        isPasswordShown: false\n    }\n\n     togglePasswordVisibility = () => {\n        const [isPasswordShown] = state\n        this.setState({isPasswordShown : !isPasswordShown})\n    }\n    render = () => {\n        return(\n            <div className=\"form-input\">\n                <h1 className=\"app-bar\">Log In</h1>\n                <p>Log in using your username and password</p>\n                <form onSubmit={submitHandler}>\n\n                    <div>\n                        <MuiThemeProvider>\n                            <TextField\n                                type=\"text\"\n                                id=\"username\"\n                                name=\"username\"\n                                value={userInput.username}\n                                onChange={changeHandler}\n                                placeholder=\"Username\"\n                            /><br/>\n                            <label htmlFor=\"username\">\n                                {/*Username*/}\n                                {errorState.username.length > 0 ? (<p className=\"error\">{errorState.username}</p>) : null}\n                            </label><br/>\n                        </MuiThemeProvider>\n\n                        <MuiThemeProvider>\n                            \n                            <TextField\n                                type={(togglePasswordVisibility) ? \"password\" : \"text\"}\n                                id=\"password\"\n                                name=\"password\"\n                                value={userInput.password}\n                                onChange={changeHandler}\n                                placeholder=\"Password\"\n                            /><br/>\n                            <i className=\"fa fa-eye password-icon\"\n                                onClick={state}\n                            ></i>\n                            <label htmlFor=\"password\"> {/*Password*/}\n                                {errorState.password.length > 0 ? (<p className=\"error\">{errorState.password}</p>) : null}\n                            </label><br/>                        \n                        </MuiThemeProvider>\n                    </div>\n                    <button style={styles.button} disabled={buttonDisabled}>Log In</button>\n                    <pre>{JSON.stringify(data, null, 2)}</pre>\n                </form>\n                <p>Don't have an account? <span>Sign Up</span></p>\n            </div>\n        )\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}